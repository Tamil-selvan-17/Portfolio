<div
  class="grid grid-cols-1 md:grid-cols-2 gap-8 bg-white dark:bg-gray-900 p-6 rounded-2xl shadow-xl"
>
  <!-- 📌 Left: Contact Info & Map -->
  <div class="space-y-6">
    <!-- Address -->
    <div class="flex items-center gap-3 mb-3">
      <div
        class="bg-gradient-to-br from-emerald-300 to-emerald-500 text-white p-2 rounded-lg shadow-md"
      >
        <i class="fas fa-map-marker-alt"></i>
      </div>
      <div class="text-sm text-gray-700 dark:text-gray-300">
        <strong>Address:</strong> {{ address }}
      </div>
    </div>

    <!-- Phone -->
    <div class="flex items-center gap-3 mb-3 relative">
      <div
        class="bg-gradient-to-br from-blue-300 to-blue-500 text-white p-2 rounded-lg shadow-md"
      >
        <i class="fas fa-phone-alt"></i>
      </div>
      <div
        class="text-sm text-gray-700 dark:text-gray-300 flex items-center gap-2"
      >
        <strong>Call Us:</strong> {{ phone }}
        <i
          class="fas fa-copy cursor-pointer text-gray-500 hover:text-blue-600"
          (click)="copyToClipboard(phone, 'phone')"
          title="Copy"
        ></i>

        <span
          *ngIf="copiedField === 'phone'"
          class="text-green-600 text-xs ml-2 animate-fade-in absolute right-0 top-1/2 -translate-y-1/2"
        >
          Copied!
        </span>
      </div>
    </div>

    <!-- Email -->
    <div class="relative mb-3">
      <div class="flex items-center gap-3">
        <!-- Icon -->
        <div
          class="bg-gradient-to-br from-purple-300 to-purple-500 text-white p-2 rounded-lg shadow-md"
        >
          <i class="fas fa-envelope"></i>
        </div>

        <!-- Text and Copy -->
        <div
          class="text-sm text-gray-700 dark:text-gray-300 flex items-center gap-2"
        >
          <strong>Email:</strong> {{ email }}
          <i
            class="fas fa-copy cursor-pointer text-gray-500 hover:text-purple-600"
            (click)="copyToClipboard(email, 'email')"
            title="Copy"
          ></i>
        </div>
      </div>

      <!-- Copied Message -->
      <div
        *ngIf="copiedField === 'email'"
        class="absolute -top-2 right-0 text-green-600 text-xs px-2 py-1 rounded shadow animate-fade-in"
      >
        Copied!
      </div>
    </div>

    <!-- Satellite Map -->
    <div>
      <iframe
        class="rounded-lg w-full h-52 border-0"
        [src]="safeMapUrl"
        allowfullscreen=""
        loading="lazy"
        referrerpolicy="no-referrer-when-downgrade"
      ></iframe>
    </div>
  </div>

  <!-- ✉️ Right: Contact Form -->
  <form
    [formGroup]="contactForm"
    (ngSubmit)="sendEmail()"
    novalidate
    class="space-y-4"
  >
    <!-- Name -->
    <div>
      <input
        type="text"
        placeholder="Your Name"
        formControlName="name"
        class="w-full px-4 py-2 rounded-lg border"
        [ngClass]="{
          'border-red-500': f['name'].invalid && f['name'].touched,
          'border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white': true
        }"
      />
      <div
        *ngIf="f['name'].touched && f['name'].invalid"
        class="text-sm text-red-500 mt-1"
      >
        <span *ngIf="f['name'].errors?.['required']">Name is required.</span>
        <span *ngIf="f['name'].errors?.['minlength']"
          >Min 2 characters required.</span
        >
      </div>
    </div>

    <!-- Email -->
    <div>
      <input
        type="email"
        placeholder="Your Email"
        formControlName="email"
        class="w-full px-4 py-2 rounded-lg border"
        [ngClass]="{
          'border-red-500': f['email'].invalid && f['email'].touched,
          'border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white': true
        }"
      />
      <div
        *ngIf="f['email'].touched && f['email'].invalid"
        class="text-sm text-red-500 mt-1"
      >
        <span *ngIf="f['email'].errors?.['required']">Email is required.</span>
        <span *ngIf="f['email'].errors?.['pattern']"
          >Enter a valid email (e.g., {{ sampleemail }}).</span
        >
      </div>
    </div>

    <!-- Subject -->
    <div>
      <input
        type="text"
        placeholder="Subject"
        formControlName="subject"
        class="w-full px-4 py-2 rounded-lg border"
        [ngClass]="{
          'border-red-500': f['subject'].invalid && f['subject'].touched,
          'border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white': true
        }"
      />
      <div
        *ngIf="f['subject'].touched && f['subject'].invalid"
        class="text-sm text-red-500 mt-1"
      >
        <span *ngIf="f['subject'].errors?.['required']"
          >Subject is required.</span
        >
        <span *ngIf="f['subject'].errors?.['minlength']"
          >Min 3 characters required.</span
        >
      </div>
    </div>

    <!-- Message -->
    <div>
      <textarea
        rows="5"
        placeholder="Message"
        formControlName="message"
        class="w-full px-4 py-2 rounded-lg border"
        [ngClass]="{
          'border-red-500': f['message'].invalid && f['message'].touched,
          'border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white': true
        }"
      ></textarea>
      <div
        *ngIf="f['message'].touched && f['message'].invalid"
        class="text-sm text-red-500 mt-1"
      >
        <span *ngIf="f['message'].errors?.['required']"
          >Message is required.</span
        >
        <span *ngIf="f['message'].errors?.['minlength']"
          >Min 10 characters required.</span
        >
      </div>
    </div>

    <!-- Submit Button -->
    <button
      type="submit"
      [disabled]="contactForm.invalid"
      class="relative group w-full px-6 py-2 text-center font-medium rounded-xl border border-blue-600 text-blue-700 bg-white dark:bg-transparent dark:text-blue-400 transition-all duration-300 overflow-hidden disabled:opacity-50 disabled:cursor-not-allowed"
    >
      <span
        class="relative z-10 group-hover:text-white group-disabled:text-blue-700 dark:group-disabled:text-blue-400"
      >
        Send Message
      </span>
      <span
        class="absolute inset-0 bg-blue-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-xl"
      ></span>
    </button>
  </form>
</div>
